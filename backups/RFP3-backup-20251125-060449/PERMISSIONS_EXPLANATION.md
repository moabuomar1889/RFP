# ุดุฑุญ ูุธุงู ุงูุตูุงุญูุงุช (Limited-Access Folders)

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุงููุธุงู ูุณุชุฎุฏู ููููู **"Limited-Access Folders"** ุญูุซ:
- **ุงููุฌูุฏุงุช**: ูุฑุฆูุฉ ููุฌููุน ูู ุงููุคุณุณุฉ (Viewer)
- **ุงููููุงุช**: ูุญููุฉ ููุชุงุญุฉ ููุท ูููุฌููุนุงุช ุงููุญุฏุฏุฉ

---

## ๐ ุงูุชุฏูู ุงููุงูู ููุนูููุฉ

### 1๏ธโฃ **ุฅุนุฏุงุฏ ุงููุงูุจ (Template Setup)**

#### ูู ุชุจููุจ "Folder Structure":

1. **ุงุฎุชูุงุฑ ูุฌูุฏ** ูู ุงูุดุฌุฑุฉ
2. **ุชูุนูู "ุญูุงูุฉ ุงููููุงุช"** (Limited Access Toggle)
   - ุนูุฏ ุงูุชูุนูู: `node.limitedAccess = true`
3. **ุฅุถุงูุฉ ุงููุฌููุนุงุช ุงููุณููุญ ููุง ุจุงููุตูู**:
   - ุงุฎุชูุงุฑ ุงููุฌููุนุฉ ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
   - ุงุฎุชูุงุฑ ุงูุฏูุฑ (Role):
     - **Reader**: ุนุฑุถ ููุท
     - **Commenter**: ุนุฑุถ + ุชุนููู
     - **Writer**: ุนุฑุถ + ุชุนุฏูู + ุญุฐู
     - **Owner**: ุชุญูู ูุงูู
   - ุงูุถุบุท ุนูู "Add"
4. **ุญูุธ ุงูุชุบููุฑุงุช**: "Save Structure"

#### ูุซุงู ุนูู ุงูุจูุงูุงุช ุงููุญููุธุฉ:
```javascript
{
  text: "Technical",
  limitedAccess: true,
  groups: [
    { name: "Engineering Team", role: "writer" },
    { name: "Management", role: "reader" }
  ]
}
```

---

### 2๏ธโฃ **ุฅูุดุงุก ุงููุดุฑูุน (Project Creation)**

ุนูุฏ ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ:

#### ุฃ. ุฅูุดุงุก ุงููุฌูุฏุงุช:
```javascript
// 1. ุฅูุดุงุก ุงููุฌูุฏ ุงูุฑุฆูุณู
PRJ-123-ProjectName

// 2. ุฅูุดุงุก ูุฌูุฏ RFP
PRJ-123-RFP

// 3. ุฅูุดุงุก ุงููุฌูุฏุงุช ุงููุฑุนูุฉ ุญุณุจ ุงููุงูุจ
1-PRJ-123-RFP-Technical
2-PRJ-123-RFP-Commercial
```

#### ุจ. ูุดุงุฑูุฉ ุงููุฌูุฏุงุช ูุน ุงูุฏูููู:
```javascript
shareFolderWithDomain(folderId)
// ูุถูู ุตูุงุญูุฉ: domain โ reader
// ุงููุชูุฌุฉ: ุฌููุน ุงููุณุชุฎุฏููู ูู ุงููุคุณุณุฉ ูููููู ุฑุคูุฉ ุงููุฌูุฏ
```

#### ุฌ. ุชุทุจูู ุงูุตูุงุญูุงุช ุนูู ุงููููุงุช:
```javascript
applyLimitedAccessToProject(projectId, template)
// ููุฑ ุนูู ุฌููุน ุงููุฌูุฏุงุช ููุทุจู ุงูุตูุงุญูุงุช ุญุณุจ ุงููุงูุจ
```

---

### 3๏ธโฃ **ุชุทุจูู ุงูุตูุงุญูุงุช ุนูู ุงููููุงุช**

#### ุฏุงูุฉ `applyLimitedAccessToFile(fileId, groups)`:

**ุงูุฎุทูุฉ 1: ุฅุฒุงูุฉ ุตูุงุญูุงุช ุงูุฏูููู ูู ุงูููู**
```javascript
// ุฅุฒุงูุฉ ุฃู ุตูุงุญูุฉ domain ูู ุงูููู
// ูุฐุง ูุถูู ุฃู ุงูููู ูุญูู ุญุชู ูู ูุงู ุงููุฌูุฏ ูุฑุฆู
Drive.Permissions.remove(fileId, domainPermissionId)
```

**ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ ุตูุงุญูุงุช ุงููุฌููุนุงุช**
```javascript
// ููู ูุฌููุนุฉ ูู ุงููุงุฆูุฉ:
groups.forEach(group => {
  Drive.Permissions.insert({
    type: 'group',
    role: group.role,  // reader, commenter, writer, owner
    value: groupEmail
  }, fileId)
})
```

**ุงููุชูุฌุฉ:**
- โ ุงููุฌูุฏ ูุฑุฆู ููุฌููุน
- โ ุงูููู ูุญูู - ููุท ุงููุฌููุนุงุช ุงููุญุฏุฏุฉ ูููููุง ุงููุตูู
- โ ูู ูุฌููุนุฉ ููุง ุงูุฏูุฑ ุงููุญุฏุฏ

---

### 4๏ธโฃ **ุฅุฏุงุฑุฉ ุงููุฌููุนุงุช ูุงูุฃุฏูุงุฑ**

#### ุฃ. ูู ุชุจููุจ "Groups & Members":

**ูุณู "All Domain Users & Group Management":**
- ุนุฑุถ ุฌููุน ุงููุณุชุฎุฏููู ูู ุงููุคุณุณุฉ
- ุนุฑุถ ุงููุฌููุนุงุช ุงูุชู ููุชูู ุฅูููุง ูู ูุณุชุฎุฏู
- ุฅุถุงูุฉ/ุฅุฒุงูุฉ ุงููุณุชุฎุฏููู ูู ุงููุฌููุนุงุช

**ูุณู "Group Roles (Default Permissions)":**
- ุชุญุฏูุฏ ุงูุฏูุฑ ุงูุงูุชุฑุงุถู ููู ูุฌููุนุฉ
- ูุชู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฏูุฑ ุฅุฐุง ูู ูุชู ุชุญุฏูุฏ ุฏูุฑ ูุญุฏุฏ ูู ุงููุงูุจ

#### ุจ. ูู ุชุจููุจ "Folder Structure":

**ุฅุนุฏุงุฏุงุช ุงููุฌูุฏ:**
- ูููู ุชุญุฏูุฏ ุฏูุฑ ูุฎุชูู ููู ูุฌููุนุฉ ููู ูุฌูุฏ
- ูุซุงู:
  - ูุฌูุฏ "Technical": Engineering Team โ Writer
  - ูุฌูุฏ "Commercial": Engineering Team โ Reader

---

### 5๏ธโฃ **ุชุทุจูู ุงูุตูุงุญูุงุช ุนูู ุงููููุงุช ุงูุฌุฏูุฏุฉ**

#### ุฃ. ุชููุงุฆูุงู ุนูุฏ ุฅูุดุงุก ุงููุดุฑูุน:
```javascript
// ุนูุฏ ุฅูุดุงุก ุงููุดุฑูุนุ ูุชู ุชุทุจูู ุงูุตูุงุญูุงุช ุนูู ุฌููุน ุงููููุงุช ุงูููุฌูุฏุฉ
applyLimitedAccessToProject(projectId, template)
```

#### ุจ. ูุฏููุงู ูููููุงุช ุงูุฌุฏูุฏุฉ:
1. ุงุฎุชูุงุฑ ุงููุฌูุฏ ูู ุงูุดุฌุฑุฉ
2. ุงูุถุบุท ุนูู **"Apply Permissions to New Files"**
3. ูุชู ุชุทุจูู ุงูุตูุงุญูุงุช ุนูู ุฌููุน ุงููููุงุช ูู ุงููุฌูุฏ

---

## ๐ ุฃููุงุน ุงูุฃุฏูุงุฑ (Roles)

| ุงูุฏูุฑ | ุงููุตู | ุงูุตูุงุญูุงุช |
|------|-------|-----------|
| **Reader** | ูุงุฑุฆ | โ ุนุฑุถ ุงูููู ููุท |
| **Commenter** | ูุนูู | โ ุนุฑุถ + ุฅุถุงูุฉ ุชุนูููุงุช |
| **Writer** | ูุญุฑุฑ | โ ุนุฑุถ + ุชุนุฏูู + ุญุฐู |
| **Owner** | ูุงูู | โ ุชุญูู ูุงูู (ุฌููุน ุงูุตูุงุญูุงุช) |

---

## ๐ ูุซุงู ุนููู

### ุงูุณููุงุฑูู:
- ูุดุฑูุน: "New Office Building"
- ูุฌูุฏ: "Technical"
- ุญูุงูุฉ ููุนูุฉ: โ
- ุงููุฌููุนุงุช:
  - Engineering Team โ Writer
  - Management โ Reader

### ุงููุชูุฌุฉ:
1. **ุงููุฌูุฏ "Technical"**:
   - ูุฑุฆู ูุฌููุน ุงููุณุชุฎุฏููู ูู ุงููุคุณุณุฉ
   - ูููููู ุฑุคูุฉ ุงุณู ุงููุฌูุฏ ูุงูุฏุฎูู ุฅููู

2. **ุงููููุงุช ุฏุงุฎู "Technical"**:
   - **Engineering Team**: ูููููู ุนุฑุถ + ุชุนุฏูู + ุญุฐู ุงููููุงุช
   - **Management**: ูููููู ุนุฑุถ ุงููููุงุช ููุท
   - **ุจุงูู ุงููุณุชุฎุฏููู**: ูุง ูููููู ุฑุคูุฉ ุงููููุงุช

---

## ๐๏ธ ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ

### ูู `Code.gs`:

1. **`shareFolderWithDomain(folderId)`**
   - ูุดุงุฑู ุงููุฌูุฏ ูุน ุงูุฏูููู ูู Reader

2. **`applyLimitedAccessToFile(fileId, groups)`**
   - ูุทุจู ุงูุตูุงุญูุงุช ุนูู ููู ูุงุญุฏ
   - ูุฒูู ุตูุงุญูุงุช ุงูุฏูููู
   - ูุถูู ุตูุงุญูุงุช ุงููุฌููุนุงุช

3. **`applyLimitedAccessToFolderFiles(folderId, node)`**
   - ูุทุจู ุงูุตูุงุญูุงุช ุนูู ุฌููุน ุงููููุงุช ูู ูุฌูุฏ

4. **`applyLimitedAccessToProject(projectId, template)`**
   - ูุทุจู ุงูุตูุงุญูุงุช ุนูู ุฌููุน ุงููููุงุช ูู ุงููุดุฑูุน ุญุณุจ ุงููุงูุจ

---

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ

### ูู `getAccessPolicy()`:
- ูููู ุชุญุฏูุฏ ุฃุฏูุงุฑ ุงูุชุฑุงุถูุฉ ูููุฌููุนุงุช
- ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงูุฃุฏูุงุฑ ุฅุฐุง ูู ูุชู ุชุญุฏูุฏ ุฏูุฑ ูุญุฏุฏ ูู ุงููุงูุจ

### ูุซุงู:
```javascript
{
  groups: {
    "Engineering Team": { role: "writer", email: "eng@domain.com" },
    "Management": { role: "reader", email: "mgmt@domain.com" }
  }
}
```

---

## ๐ ุชุญุฏูุซ ุงูุตูุงุญูุงุช

### ูููุดุงุฑูุน ุงูููุฌูุฏุฉ:
1. ุชุนุฏูู ุงููุงูุจ ูู "Folder Structure"
2. ุงูุถุบุท ุนูู **"Apply to All Projects"**
3. ูุชู ุชุทุจูู ุงูุชุบููุฑุงุช ุนูู ุฌููุน ุงููุดุงุฑูุน

### ูููููุงุช ุงูุฌุฏูุฏุฉ ูู ูุฌูุฏ ูุญูู:
1. ุงุฎุชูุงุฑ ุงููุฌูุฏ
2. ุงูุถุบุท ุนูู **"Apply Permissions to New Files"**

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุงููุฌูุฏุงุช ุฏุงุฆูุงู ูุฑุฆูุฉ**: ูุง ูููู ุฅุฎูุงุก ุงููุฌูุฏุงุชุ ููุท ุงููููุงุช ูุญููุฉ

2. **ุงูุตูุงุญูุงุช ุนูู ูุณุชูู ุงูููู**: ูู ููู ูู ุตูุงุญูุงุชู ุงูุฎุงุตุฉ

3. **ุงููุฌููุนุงุช ูู Google Workspace**: ูุฌุจ ุฃู ุชููู ุงููุฌููุนุงุช ููุฌูุฏุฉ ูู Google Workspace

4. **Shared Drive**: ุงููุธุงู ูุนูู ุนูู Shared Drive ุญูุซ ุงููุฌูุฏุงุช ูุชุงุญุฉ ุชููุงุฆูุงู

5. **ุฅุฒุงูุฉ ุตูุงุญูุงุช ุงูุฏูููู**: ููู ุฌุฏุงู ูุถูุงู ุญูุงูุฉ ุงููููุงุช

---

## ๐ ุงูุฎูุงุตุฉ

ุงููุธุงู ูุนูู ุนูู ูุจุฏุฃ:
- **ุงููุฌูุฏุงุช = ูุฑุฆูุฉ ููุฌููุน** (ูููุฑููุฉ ูุงูุดูุงููุฉ)
- **ุงููููุงุช = ูุญููุฉ** (ููุฃูุงู ูุงูุฎุตูุตูุฉ)

ูุฐุง ูููุฑ ุชูุงุฒูุงู ุจูู:
- โ ุณูููุฉ ุงููุตูู ูุงูุชูุธูู
- โ ุงูุฃูุงู ูุญูุงูุฉ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ






# ุฏููู ุดุงูู: ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช Shared Drive ูู Admin Console

## ๐ ููุงุฐุง ูุฐุง ูููุ

ุนูุฏูุง ุชุญุงูู ุชุทุจูู "Limited Access" ุนูู ูุฌูุฏ ูู Shared Driveุ ูุฏ ุชูุงุฌู ุชุญุฐูุฑ:
```
Warning: 1 domain permission(s) still exist
```

ูุฐุง ูุนูู ุฃู **ุตูุงุญูุงุช Domain** ูุง ุชุฒุงู ููุฌูุฏุฉ ุนูู ุงููุฌูุฏุ ููุฏ ุชููู **ููุฑูุซุฉ** ูู ุฅุนุฏุงุฏุงุช Shared Drive ููุณู.

---

## ๐ ุงูุฎุทูุฉ 1: ุงููุตูู ุฅูู Admin Console

### 1.1 ุชุณุฌูู ุงูุฏุฎูู:
1. ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู: **https://admin.google.com**
2. ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจ **Super Admin** (ุญุณุงุจ ุงููุณุคูู ุงูุฑุฆูุณู)
3. ุชุฃูุฏ ูู ุฃู ูุฏูู ุตูุงุญูุงุช **Super Admin** ูููุณ ููุท **Admin**

### 1.2 ุงููุตูู ุฅูู ุฅุนุฏุงุฏุงุช Drive:
1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุถุบุท ุนูู **"Apps"** (ุงูุชุทุจููุงุช)
2. ุงุถุบุท ุนูู **"Google Workspace"**
3. ุงุถุบุท ุนูู **"Drive and Docs"** (Drive ูุงููุณุชูุฏุงุช)

---

## โ๏ธ ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏุงุช Shared Drives

### 2.1 ุงููุตูู ุฅูู ุฅุนุฏุงุฏุงุช Shared Drives:
1. ูู ุตูุญุฉ "Drive and Docs"ุ ุงุจุญุซ ุนู ูุณู **"Shared drives"** (ุงููุญุฑูุงุช ุงููุดุชุฑูุฉ)
2. ุงุถุบุท ุนูู **"Shared drives"** ุฃู **"Manage shared drives"**

### 2.2 ุงูุฅุนุฏุงุฏุงุช ุงููููุฉ:

#### ุฃ) **Default access level** (ูุณุชูู ุงููุตูู ุงูุงูุชุฑุงุถู):
- **ุงููููุน:** `Shared drives` โ `Default access level`
- **ูุง ูุฌุจ ุงูุชุญูู ููู:**
  - ูุฌุจ ุฃู ูููู **"Viewer"** ุฃู **"Commenter"** ูููุณ **"Content manager"** ุฃู **"Manager"**
  - **ูุง ูุฌุจ** ุฃู ูููู **"Full access"** ุฃู **"Organizer"**

#### ุจ) **Sharing settings** (ุฅุนุฏุงุฏุงุช ุงููุดุงุฑูุฉ):
- **ุงููููุน:** `Shared drives` โ `Sharing settings`
- **ูุง ูุฌุจ ุงูุชุญูู ููู:**
  - โ **"Allow users in your organization to create shared drives"** - ูููู ุชูุนููู
  - โ **"Allow users to share files outside your organization"** - ูุฌุจ ุชุนุทููู ููุฃูุงู
  - โ **"Allow users to share files with anyone"** - ูุฌุจ ุชุนุทููู ููุฃูุงู

#### ุฌ) **Default sharing permissions** (ุตูุงุญูุงุช ุงููุดุงุฑูุฉ ุงูุงูุชุฑุงุถูุฉ):
- **ุงููููุน:** `Shared drives` โ `Default sharing permissions`
- **ูุง ูุฌุจ ุงูุชุญูู ููู:**
  - โ **"Only people in your organization can access"** - ูุฌุจ ุชูุนููู
  - โ **"Anyone with the link can access"** - ูุฌุจ ุชุนุทููู
  - โ **"Public on the web"** - ูุฌุจ ุชุนุทููู

---

## ๐ฏ ุงูุฎุทูุฉ 3: ุฅุนุฏุงุฏุงุช Shared Drive ุงููุญุฏุฏ

### 3.1 ุงููุตูู ุฅูู Shared Drive ุงููุญุฏุฏ:
1. ูู ุตูุญุฉ "Shared drives"ุ ุงุจุญุซ ุนู **Shared Drive** ุงูุฐู ุชุณุชุฎุฏูู (ูุซูุงู: "DTG Projects")
2. ุงุถุบุท ุนูู ุงุณู **Shared Drive**

### 3.2 ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช Shared Drive:

#### ุฃ) **Access settings** (ุฅุนุฏุงุฏุงุช ุงููุตูู):
- **ุงููููุน:** ุฏุงุฎู Shared Drive โ `Settings` โ `Access`
- **ูุง ูุฌุจ ุงูุชุญูู ููู:**
  - โ **"Only people in your organization can access"** - ูุฌุจ ุชูุนููู
  - โ **"Anyone with the link can access"** - ูุฌุจ ุชุนุทููู
  - โ **"Public on the web"** - ูุฌุจ ุชุนุทููู

#### ุจ) **Default member permissions** (ุตูุงุญูุงุช ุงูุฃุนุถุงุก ุงูุงูุชุฑุงุถูุฉ):
- **ุงููููุน:** ุฏุงุฎู Shared Drive โ `Settings` โ `Members`
- **ูุง ูุฌุจ ุงูุชุญูู ููู:**
  - ูุฌุจ ุฃู ูููู **"Viewer"** ุฃู **"Commenter"** ูููุณ **"Content manager"** ุฃู **"Manager"**
  - **ูุง ูุฌุจ** ุฃู ูููู **"Full access"** ุฃู **"Organizer"**

#### ุฌ) **Sharing restrictions** (ูููุฏ ุงููุดุงุฑูุฉ):
- **ุงููููุน:** ุฏุงุฎู Shared Drive โ `Settings` โ `Sharing`
- **ูุง ูุฌุจ ุงูุชุญูู ููู:**
  - โ **"Only people in your organization can access"** - ูุฌุจ ุชูุนููู
  - โ **"Allow sharing outside your organization"** - ูุฌุจ ุชุนุทููู

---

## ๐ง ุงูุฎุทูุฉ 4: ุฅุฒุงูุฉ Domain Permissions ูู Shared Drive

### 4.1 ุงููุดููุฉ:
ุฅุฐุง ูุงู Shared Drive ูุฏูู **Domain Permission** ุนูู ูุณุชูู **Shared Drive ููุณู**ุ ูุฅู ุฌููุน ุงููุฌูุฏุงุช ูุงููููุงุช ุฏุงุฎูู **ุชุฑุซ** ูุฐู ุงูุตูุงุญูุฉ.

### 4.2 ุงูุญู:

#### ุงูุทุฑููุฉ 1: ูู Admin Console (ุงูุฃุณูู):
1. ุงุฐูุจ ุฅูู **Shared Drive** ุงููุญุฏุฏ
2. ุงุถุบุท ุนูู **"Settings"** (ุงูุฅุนุฏุงุฏุงุช)
3. ุงุจุญุซ ุนู **"Access"** ุฃู **"Permissions"**
4. ุงุจุญุซ ุนู ุฃู **"Domain"** permission
5. ุฅุฐุง ูุฌุฏุชุ **ุงุญุฐููุง** ุฃู **ุบููุฑูุง** ุฅูู **"Viewer"** ููุท

#### ุงูุทุฑููุฉ 2: ูู Google Drive ูุจุงุดุฑุฉ:
1. ุงูุชุญ **Google Drive** (https://drive.google.com)
2. ุงุจุญุซ ุนู **Shared Drive** ุงููุญุฏุฏ
3. ุงุถุบุท ุจุฒุฑ ุงููุงูุณ ุงูุฃููู ุนูู **Shared Drive**
4. ุงุถุบุท ุนูู **"Share"** (ูุดุงุฑูุฉ)
5. ุงุจุญุซ ุนู **"yourdomain.com"** ูู ูุงุฆูุฉ ุงูุตูุงุญูุงุช
6. ุฅุฐุง ูุฌุฏุชุ **ุงุญุฐููุง** ุฃู **ุบููุฑูุง** ุฅูู **"Viewer"** ููุท

#### ุงูุทุฑููุฉ 3: ูู ุงูููุฏ (ูููุทูุฑูู):
```javascript
// ุฅุฒุงูุฉ Domain Permission ูู Shared Drive
function removeDomainPermissionFromSharedDrive(sharedDriveId) {
  try {
    // ุงูุญุตูู ุนูู ุฌููุน ุงูุตูุงุญูุงุช
    const perms = Drive.Permissions.list(sharedDriveId, {
      supportsAllDrives: true,
      useDomainAdminAccess: true
    });
    
    // ุงูุจุญุซ ุนู Domain Permission
    const domainPerms = (perms.items || []).filter(p => p.type === 'domain');
    
    // ุญุฐู Domain Permissions
    domainPerms.forEach(perm => {
      try {
        Drive.Permissions.remove(sharedDriveId, perm.id, {
          supportsAllDrives: true,
          useDomainAdminAccess: true
        });
        console.log(`Removed domain permission: ${perm.id}`);
      } catch (e) {
        console.error(`Could not remove domain permission: ${e.message}`);
      }
    });
    
    return `Removed ${domainPerms.length} domain permission(s)`;
  } catch (err) {
    console.error(`Error: ${err.message}`);
    throw err;
  }
}
```

---

## ๐ ุงูุฎุทูุฉ 5: ุงูุชุญูู ูู ุงูุตูุงุญูุงุช

### 5.1 ูู Admin Console:
1. ุงุฐูุจ ุฅูู **Shared Drive** ุงููุญุฏุฏ
2. ุงุถุบุท ุนูู **"Settings"** โ **"Access"**
3. ุชุญูู ูู ุฃู **ูุง ููุฌุฏ** **"Domain"** permission
4. ุชุญูู ูู ุฃู **ููุท** ุงููุฌููุนุงุช ุงููุญุฏุฏุฉ ูุฏููุง ุตูุงุญูุงุช

### 5.2 ูู Google Drive:
1. ุงูุชุญ **Google Drive**
2. ุงุจุญุซ ุนู **Shared Drive** ุงููุญุฏุฏ
3. ุงุถุบุท ุจุฒุฑ ุงููุงูุณ ุงูุฃููู โ **"Share"**
4. ุชุญูู ูู ุฃู **ูุง ููุฌุฏ** **"yourdomain.com"** ูู ูุงุฆูุฉ ุงูุตูุงุญูุงุช
5. ุชุญูู ูู ุฃู **ููุท** ุงููุฌููุนุงุช ุงููุญุฏุฏุฉ ูุฏููุง ุตูุงุญูุงุช

### 5.3 ูู ุงูููุฏ (ุงุณุชุฎุฏุงู Test Folder Permissions):
1. ุงูุชุญ ุงูุชุทุจูู
2. ุงุฐูุจ ุฅูู **"Groups & Members"** โ **"Test Folder Permissions"**
3. ุฃุฏุฎู **Folder ID** ูููุฌูุฏ ุงูุฐู ุชุฑูุฏ ุงูุชุญูู ููู
4. ุงุถุบุท **"Test"**
5. ุชุญูู ูู ุฃู **"domain"** count = **0**
6. ุชุญูู ูู ุฃู **"groups"** count = **ุนุฏุฏ ุงููุฌููุนุงุช ุงููุญุฏุฏุฉ**

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ:

### 1. **ุงููุฑุงุซุฉ (Inheritance)**:
- ูู Shared Driveุ ุงูุตูุงุญูุงุช **ุชุฑุซ** ูู ุงููุณุชูู ุงูุฃุนูู
- ุฅุฐุง ูุงู Shared Drive ูุฏูู Domain Permissionุ **ุฌููุน** ุงููุฌูุฏุงุช ูุงููููุงุช ุฏุงุฎูู ุชุฑุซ ูุฐู ุงูุตูุงุญูุฉ
- **ูุง ูููู** ุฅุฒุงูุฉ ุงูุตูุงุญูุงุช ุงูููุฑูุซุฉ ูู ุงููุณุชูู ุงูุฃุฏูู

### 2. **Domain Permissions**:
- Domain Permissions ุชุนูู ุฃู **ุฌููุน** ุงููุณุชุฎุฏููู ูู ุงููุคุณุณุฉ ูุฏููู ุตูุงุญูุฉ ูุนููุฉ
- ูู Shared Driveุ Domain Permissions **ููุฑูุซุฉ** ููุง ูููู ุฅุฒุงูุชูุง ุจุณูููุฉ
- **ุงูุญู:** ุฅุฒุงูุฉ Domain Permission ูู **Shared Drive ููุณู** ุฃููุงู

### 3. **Group Permissions**:
- Group Permissions ุชุนูู ุฃู **ููุท** ุฃุนุถุงุก ุงููุฌููุนุฉ ูุฏููู ุตูุงุญูุฉ ูุนููุฉ
- Group Permissions **ูุง ุชุฑุซ** ูู Domain Permissions
- **ุงูุญู:** ุฅุถุงูุฉ Group Permissions **ุจุนุฏ** ุฅุฒุงูุฉ Domain Permissions

---

## ๐ฏ ุงูุฎูุงุตุฉ:

### ุงูุฎุทูุงุช ุงููุทููุจุฉ:
1. โ **ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช Shared Drive** ูู Admin Console
2. โ **ุฅุฒุงูุฉ Domain Permissions** ูู Shared Drive ููุณู
3. โ **ุชุทุจูู Group Permissions** ุนูู ุงููุฌูุฏุงุช ุงููุญุฏุฏุฉ
4. โ **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช** ุจุงุณุชุฎุฏุงู Test Folder Permissions

### ุงููุชูุฌุฉ ุงููุชููุนุฉ:
- โ **ูุง ููุฌุฏ** Domain Permissions ุนูู ุงููุฌูุฏุงุช ุงููุญููุฉ
- โ **ููุท** ุงููุฌููุนุงุช ุงููุญุฏุฏุฉ ูุฏููุง ุตูุงุญูุงุช
- โ **ุงููุณุชุฎุฏููู ุงูุขุฎุฑูู** ูุง ูุณุชุทูุนูู ุฑุคูุฉ ุงููุฌูุฏุงุช ุงููุญููุฉ

---

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:

### 1. **ุชุญูู ูู Logs**:
- ุงูุชุญ **"Groups & Members"** โ **"Recent Logs"**
- ุงุจุญุซ ุนู ุชุญุฐูุฑุงุช **"domain permission(s) still exist"**
- ุชุญูู ูู **"DEBUG: Full node structure"** ููุนุฑูุฉ ุงููุฌููุนุงุช ุงููุฎุฒูุฉ

### 2. **ุชุญูู ูู ุงููุงูุจ**:
- ุงูุชุญ **"Folder Structure"**
- ุงุฎุชุฑ ุงููุฌูุฏ ุงููุญูู
- ุชุญูู ูู ูุงุฆูุฉ **"Allowed Groups"**
- ุชุฃูุฏ ูู ุฃู **ููุท** ุงููุฌููุนุงุช ุงููุทููุจุฉ ููุฌูุฏุฉ

### 3. **ุงุชุตู ุจุงูุฏุนู**:
- ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ูุฏ ุชุญุชุงุฌ ุฅูู **Super Admin** ูุฅุฒุงูุฉ Domain Permissions
- ุฃู ูุฏ ุชุญุชุงุฌ ุฅูู **Google Workspace Support** ูููุณุงุนุฏุฉ

---

## ๐ ุฑูุงุจุท ูููุฏุฉ:

- **Admin Console:** https://admin.google.com
- **Google Drive:** https://drive.google.com
- **Shared Drive Settings:** https://admin.google.com/ac/appslist/core/drive/shareddrives
- **Drive API Documentation:** https://developers.google.com/drive/api/v2/reference

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-01-19





